@model List<Ecommerce_Application.Models.ViewOrdersModel>
<div class="hide-scrollbar" style="width: 100%; height: 75vh; overflow-y: auto">
    @if (Model != null && Model.Any())
    {
        foreach (var orders in Model)
        {
            <div class="w-100 rounded-4 d-flex mb-2 pe-4" style="height: 150px; background-color: white">
                <img src="@orders.ProductImg" class="img-fluid" style="height: 150px; width: 150px; border-start-start-radius: 1rem; border-end-start-radius: 1rem" />
                <table class="ms-3">
                    <tr>
                        <td>
                            <h5>@orders.ProductName</h5>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <h6>QTY: @orders.Quantity</h6>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <h6>₹ @orders.Price</h6>
                        </td>
                    </tr>
                </table>
                <div class="d-flex justify-content-center flex-column align-items-center ms-auto">

                    @if (orders.Status == "pending")
                    {
                        <h3 class="text-secondary"> PLACED</h3>
                    }
                    else if (orders.Status == "shipped")
                    {
                        <h3 class="text-success"> @orders.Status.ToUpper()</h3>
                    }
                    else if (orders.Status == "cancelled")
                    {
                        <h3 class="text-danger"> @orders.Status.ToUpper()</h3>
                    }

                    @if (orders.Status == "pending")
                    {
                        <button id="cancelOrderBtn" onclick="CancelOrder(@orders.DeliveryId)" class="btn mt-1 bg-danger text-bg-light" type="button" style="background-color: #FFF7DD; font-weight: 700;color: white !important">Cancel</button>
                    }
                </div>
            </div>
        }
    }
    else
    {
        <h5>No Orders</h5>
    }

</div>

<script>
    function CancelOrder(id) {
        $.post('/Order/CancelOrder', { deliveryId: id }, (html) => {
            $('#orderContainer').html(html)
        })
    }
</script>